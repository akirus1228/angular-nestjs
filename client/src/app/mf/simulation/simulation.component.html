<mat-horizontal-stepper
    *ngIf="model"
    #stepper
    labelPosition="bottom"
    id="simulation"
    fxLayout="column"
    fxFlex="90%"
    fxLayoutAlign="center centrt"
    [class]="'selectedIndex' + stepper.selectedIndex + ' mat-stepper-label-position-bottom'"
>
    <mat-step>
        <ng-template matStepLabel>Remove Funds that are not participating the Ranking</ng-template>
        <div fxFlex fxFill fxLayout="row" fxLayoutAlign="start start">
            <div
                fxFlex="390px"
                fxLayoutGap="10px"
                style="height: 50%"
                fxLayout="column"
                fxLayoutAlign="start center"
                [style.background]="'#ffffff'"
            >
                <p-filter
                    [filter]="model.simlulationSettings.excludeFilter"
                    (selectedChange)="mfService.filterSimulationChanged()"
                ></p-filter>
                <mat-divider style="width: 100%;"></mat-divider>
                <button mat-raised-button color="primary">NEXT</button>
                <span>
                    Total exlude:<span dir="ltr">{{ model.totalExclude }}</span>
                </span>
            </div>
            <div fxFlex="16px"></div>
            <p-simple-grid [groups]="model.gridGroups"></p-simple-grid>
        </div>
    </mat-step>
    <mat-step>
        <ng-template matStepLabel>step 2</ng-template>
        <div fxLayout="column" fxFlex style="background-color:#ffffff;  color: #2f3542;height: 60%;">
            <div fxFlex="80px" style="line-height: 80px;" fxLayoutAlign="center centrt"><span>Customize parameters</span></div>
            <div
                fxLayout="row"
                fxFlex="250px"
                fxLayoutAlign="space-between centrt"
                style="padding-left: 100px;padding-right: 100px"
            >
                <div fxLayout="column" fxFlex="250px" *ngFor="let group of model.simlulationSettings.customizeParameters">
                    <div fxFlex="80px" style="height: 80px;line-height: 80px;" fxLayoutAlign="center centrt">
                        <span>{{ group.name }}</span>
                    </div>
                    <div fxFlex fxLayout="column" style="overflow: auto">
                        <div *ngFor="let parameter of group.parameters" fxLayout="row">
                            <mat-checkbox [(ngModel)]="parameter.isActive">{{ parameter.name }}</mat-checkbox>
                        </div>
                    </div>
                </div>
            </div>
            <div fxFlex>
                <mat-divider style="width: 100%;"></mat-divider>
                <div fxLayoutAlign="center centrt">
                    <button mat-raised-button color="basic" style="width: 184px;">
                        Restore default settings
                    </button>
                    <button mat-raised-button color="primary">
                        save
                    </button>
                </div>
            </div>
        </div>
    </mat-step>
    <mat-step>
        <ng-template matStepLabel>Define Groups for customized Ranking</ng-template>
        <p-select-rank-type [groups]="model.gridGroups" [typeRankFilter]="model.typeRankFilter"> </p-select-rank-type>
        <!--        <p-customize-ranking [state]="State.selectType" [model]="model"></p-customize-ranking>-->
    </mat-step>
    <mat-step>
        <ng-template matStepLabel>Define weights for Ranking</ng-template>
        <p-customize-ranking [state]="State.defineWeight" [model]="model"></p-customize-ranking>
    </mat-step>
    <mat-step>
        <ng-template matStepLabel>Calculate New Customized Ranking</ng-template>
        <div fxFlex fxFill></div>
    </mat-step>
</mat-horizontal-stepper>
